class t{constructor(n){this.consentManager=n,this.config=null,this.lastState=null}getName(){return"meta_pixel"}loadConfig(n){this.config=n.meta_pixel||null}isEnabled(){return!!(this.config&&this.config.enabled&&this.config.pixel_id&&typeof window.fbq=="function")}shouldGrantConsent(){return this.isEnabled()?this.consentManager.getServiceConsent("meta_pixel"):!1}applyConsentUpdate(){if(!this.isEnabled())return;const n=this.shouldGrantConsent();this.lastState!==n&&(this.lastState=n,n?window.fbq("consent","grant"):window.fbq("consent","revoke"))}getState(){return this.isEnabled()?{pixel_id:this.config.pixel_id,state:this.shouldGrantConsent()?"granted":"revoked"}:null}}document.addEventListener("DOMContentLoaded",()=>{window.consentManager&&window.consentManager.registerIntegration(new t(window.consentManager))});
